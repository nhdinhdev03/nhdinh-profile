/* Page Transition Effects */

/* Set base transition properties for smoother page loads/exits */
body {
  &.home-appeared {
    .page-transition {
      will-change: opacity, transform;
      transform: translateZ(0); /* Force GPU layer */
    }
  }
}

/* Hero section optimized animations */
.hero {
  opacity: 0;
  transform: translateY(20px) translateZ(0); /* GPU acceleration */
  transition: opacity 600ms ease-out, transform 600ms ease-out;
  will-change: opacity, transform;
  
  &.hero-loaded {
    opacity: 1;
    transform: translateY(0) translateZ(0);
  }

  &.entrance-complete {
    will-change: auto; /* Remove after animation */
    
    .hero__container {
      opacity: 1;
    }
  }
}

/* Optimize animations when navigating back to home */
.layout {
  &:has(.home-container) {
    .header {
      transition: all 400ms ease-out;
      will-change: background-color, color;
    }
  }
}

/* Optimize mobile transitions - reduce motion for performance */
@media (max-width: 768px) {
  .hero {
    transition: opacity 300ms ease-out, transform 300ms ease-out;
  }
  
  /* Respect user's motion preferences */
  @media (prefers-reduced-motion: reduce) {
    .hero {
      transition: opacity 150ms ease-out;
      transform: none;
    }
  }
}

/* Dark mode scrollbar for user area */
.dark body {
  scrollbar-color: #334155 #0f172a; /* Firefox */
}

.dark body::-webkit-scrollbar {
  width: 10px;
}
.dark body::-webkit-scrollbar-track {
  background: #0f172a;
}
.dark body::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg,#1e293b,#334155);
  border-radius: 6px;
  border: 2px solid #0f172a;
}
.dark body::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg,#334155,#475569);
}

/* Light mode user scrollbar (override if needed) */
body:not(.dark) {
  scrollbar-color: #cbd5e1 #f8fafc;
}
body:not(.dark)::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg,#cbd5e1,#94a3b8);
  border-radius: 6px;
  border: 2px solid #f8fafc;
}
